<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Laudos App</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <h1>Laudos App</h1>
      <div class="header-actions">
        <button id="btn-new" class="btn-primary" aria-label="Criar novo laudo">Novo Laudo</button>
        <button id="btn-list" class="btn-secondary" aria-label="Ver lista de laudos">Lista de Laudos</button>
      </div>
    </header>

    <main class="app-main">
      <!-- Tela de Listagem -->
      <div id="list-view" class="view-container">
        <h2>Laudos Cadastrados</h2>
        <div id="laudos-list" class="laudos-list">
          <!-- Laudos serão carregados aqui -->
        </div>
      </div>

      <!-- Tela de Formulário Completo -->
      <div id="form-view" class="view-container" style="display: none;">
        <h2>Laudo Médico</h2>
        <form id="laudo-form">

          <label for="numero_processo">Número do Processo:</label>
          <input type="text" id="numero_processo" name="numero_processo" required />

          <label for="cidade">Cidade:</label>
          <input type="text" id="cidade" name="cidade" />

          <label for="reclamante">Reclamante:</label>
          <input type="text" id="reclamante" name="reclamante" required />

          <label for="reclamada">Reclamada:</label>
          <input type="text" id="reclamada" name="reclamada" />

          <label for="data_admissao">Data de Admissão:</label>
          <input type="date" id="data_admissao" name="data_admissao" />

          <label for="data_demissao">Data de Demissão:</label>
          <input type="date" id="data_demissao" name="data_demissao" />

          <label for="funcao_reclamante">Função do Reclamante:</label>
          <input type="text" id="funcao_reclamante" name="funcao_reclamante" />

          <label for="data_nascimento">Data de Nascimento:</label>
          <input type="date" id="data_nascimento" name="data_nascimento" />

          <label for="cpf">CPF:</label>
          <input type="text" id="cpf" name="cpf" />

          <label for="naturalidade">Naturalidade:</label>
          <input type="text" id="naturalidade" name="naturalidade" />

          <label for="horario_trabalho">Horário de Trabalho:</label>
          <input type="text" id="horario_trabalho" name="horario_trabalho" />

          <label for="empresa_atual">Empresa Atual:</label>
          <input type="text" id="empresa_atual" name="empresa_atual" />

          <label for="funcao_atual">Função Atual:</label>
          <input type="text" id="funcao_atual" name="funcao_atual" />

          <label for="queixa_principal">Queixa Principal:</label>
          <textarea id="queixa_principal" name="queixa_principal" rows="2"></textarea>

          <label for="inicio_sintomas">Início dos Sintomas:</label>
          <input type="text" id="inicio_sintomas" name="inicio_sintomas" />

          <label for="sintomas_detalhes">Detalhes dos Sintomas:</label>
          <textarea id="sintomas_detalhes" name="sintomas_detalhes" rows="2"></textarea>

          <label for="zumbido">Zumbido:</label>
          <input type="text" id="zumbido" name="zumbido" />

          <label for="antecedentes">Antecedentes:</label>
          <textarea id="antecedentes" name="antecedentes" rows="2"></textarea>

          <label for="uso_protetor">Uso de Protetor:</label>
          <input type="text" id="uso_protetor" name="uso_protetor" />

          <label for="altura">Altura (m):</label>
          <input type="number" step="0.01" id="altura" name="altura" />

          <label for="peso">Peso (kg):</label>
          <input type="number" step="0.1" id="peso" name="peso" />

          <label for="pressao_arterial">Pressão Arterial:</label>
          <input type="text" id="pressao_arterial" name="pressao_arterial" />

          <label for="otoscopia">Otoscopia:</label>
          <input type="text" id="otoscopia" name="otoscopia" />

          <label for="oroscopia">Oroscopia:</label>
          <input type="text" id="oroscopia" name="oroscopia" />

          <label for="orofaringe">Orofaringe:</label>
          <input type="text" id="orofaringe" name="orofaringe" />

          <label for="data_pericia">Data da Perícia:</label>
          <input type="date" id="data_pericia" name="data_pericia" />

          <label for="hora_pericia">Hora da Perícia:</label>
          <input type="time" id="hora_pericia" name="hora_pericia" />

          <label for="diagnostico">Diagnóstico:</label>
          <textarea id="diagnostico" name="diagnostico" rows="2"></textarea>

          <label for="relacao_causal">Relação Causal:</label>
          <input type="text" id="relacao_causal" name="relacao_causal" />

          <label for="nexo_tecnico">Nexo Técnico:</label>
          <input type="text" id="nexo_tecnico" name="nexo_tecnico" />

          <label for="aptidao">Aptidão:</label>
          <input type="text" id="aptidao" name="aptidao" />

          <label for="reducao_capacidade">Redução de Capacidade:</label>
          <input type="text" id="reducao_capacidade" name="reducao_capacidade" />

          <label for="percentual_reducao">Percentual de Redução (%):</label>
          <input type="number" id="percentual_reducao" name="percentual_reducao" />

          <label for="valor_honorarios">Valor de Honorários (R$):</label>
          <input type="number" step="0.01" id="valor_honorarios" name="valor_honorarios" />

          <label for="valor_por_extenso">Valor por Extenso:</label>
          <input type="text" id="valor_por_extenso" name="valor_por_extenso" />

          <label for="data_laudo">Data do Laudo:</label>
          <input type="date" id="data_laudo" name="data_laudo" />

          <label for="perito">Perito:</label>
          <input type="text" id="perito" name="perito" />

          <label for="crm">CRM:</label>
          <input type="text" id="crm" name="crm" />

          <div class="form-actions">
            <button type="submit" class="btn-primary">Salvar</button>
            <button type="button" id="btn-cancel" class="btn-secondary">Cancelar</button>
          </div>
        </form>
      </div>

      <!-- Tela de Carregamento -->
      <div id="loading-view" class="view-container" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
      </div>
    </main>

    <footer class="app-footer">
      <p>Sistema de Laudos Médicos &copy; <span id="year"></span></p>
    </footer>
  </div>

  <script>
    // Atualiza o ano automaticamente
    document.getElementById('year').textContent = new Date().getFullYear();

    // Cancelar formulário
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('btn-cancel').addEventListener('click', () => {
        // Chama função do renderer.js para voltar à lista
        if (typeof showListView === 'function') showListView();
      });
    });
  </script>
  <script src="renderer.js"></script>
</body>
</html>
